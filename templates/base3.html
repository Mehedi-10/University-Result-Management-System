<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <title>{% block title %} {% endblock %} | Result processing system</title>
    {% block style_content %} {% endblock %}
    {% if messages %}
        {% for message in messages %}
            <div id="hidein2sec" {% if message.tags %} class="{{ message.tags }}"{% endif %} >{{ message }}</div>
        {% endfor %}
    {% endif %}

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body id="bodyy" style="margin: 0" onbeforeprint="myFunction()">
<div class="row" style="background: #a4a4a4;margin: 0px; padding-bottom: 11px;padding-top: 11px;">

    <div class="col" style="text-align: left; ">
        <span>
                <a type="button" class="btn" href="{% block resultpage %}{% endblock %}"
                   style="text-decoration: none;color: black;font-family: 'Inria Sans'">
                    Results
                </a>
        </span>
    </div>
    <div class="col" style="text-align: right;padding-right: 7px; ">
        <a type="button" id="mgid" class="btn material-icons" onclick="mymessage()">notifications</a>
        <a type="button" class="btn material-icons">account_circle</a>

        {% block icone %}{% endblock %}
    </div>
</div>
<div id="message"
     style="width: 400px; background: #8F91A2;padding: 7px; position: absolute; z-index: 1; right: 10px;border-radius: .1rem;display: none">
    {% for i in all.teacher %}
        <div class="toast-header">
            <strong class="me-auto">{{ i.sender_id }}</strong>
            <small class="text-muted">{{ i.receiving_time }}</small>
        </div>
        <div class="toast-body">
            {#            {{ i.message }}#}
        </div>
    {% endfor %}
    {#    {% if all.message %}#}
    {#        <p>no new notifications</p>#}
    {#    {% endif %}#}
    <div class="d-grid">
        <button class="btn" type="button">show all</button>
    </div>
</div>
{% block content %} {% endblock %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
{% block script %}
{% endblock %}
<script>
    {% if messages %}
        setTimeout(message, 3000);
        function message() {
            document.getElementById("hidein2sec").style.display = 'none';
        }
    {% endif %}

    try {
        const dis = document.getElementById('vanish');
        const displ = document.getElementById('po');
        if (dis) {
            function myFunction() {
                setTimeout(myTimer, 2000);
                const bodyy = document.getElementById('bodyy');
                bodyy.style.backgroundColor = "#F7F7F7";
                dis.style.visibility = 'hidden';
                {#displ.style.width='100vw';#}
            }

            function myTimer() {
                dis.style.visibility = 'visible';
                document.getElementById('bodyy').style.backgroundColor = "#d6d6d6";
            }
        }

    } catch (err) {

    }

    var show = 0;

    function mymessage() {
        if (show == 1) {
            document.getElementById('message').style.display = 'block';
            document.getElementById('mgid').innerText = 'close';

        } else {
            document.getElementById('mgid').innerText = 'notifications';
            document.getElementById('message').style.display = 'none';

        }
        show = (show + 1) % 2;
    }
</script>
</body>
</html>