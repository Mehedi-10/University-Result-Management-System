{% extends 'admin_base.html' %}
{% block title %}{{ 'Add New Member' }}{% endblock %}
{% block style_content %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/signup.css' %}">

{% endblock %}
{% block content %}
    <body>
    <div style="font-family: 'Inria Sans';height: max-content; width: 500px; margin: auto">
        <form method="POST"  id="signup" style="width: 500px;" autocomplete="off">{% csrf_token %}
            <h4 class="form-title" style="padding-top:3px;">What type of user you are?</h4>
            <div class="row mb-3 mt-3">
                <div class="col">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" value="Teacher"
                               id="Teacher" checked/>
                        <label class="form-check-label" for="Teacher">Teacher</label>
                    </div>
                </div>
                <div class="col">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" name="inlineRadioOptions" type="radio" value="Student"
                               id="Student"/>
                        <label class="form-check-label" for="Student">Student</label>
                    </div>
                </div>

            </div>
            <div class="form-floating mb-3">
                <input class="form-control" placeholder="enter your name" name="name" required>
                <label for="floatingTextarea">Full name</label>
            </div>
            <div class="form-floating mb-3" id="Student_id" style="display: none">
                <input class="form-control" id="did" placeholder="enter your id" name="id">
                <label for="floatingTextarea">ID</label>
            </div>
            <div class="form-floating mb-3" id="tmail">
                <input type="email" id="eid" class="form-control" placeholder="enter your email" name="email" required>
                <label for="floatingTextarea">Email</label>
            </div>
            <div class="form-floating mb-3">
                <input type="password" class="form-control" placeholder="enter a password" name="password1" required>
                <label for="floatingTextarea">Password</label>
            </div>
            <div class="form-floating mb-3">
                <input type="password" class="form-control" placeholder="re-enter password" name="password2" required>
                <label for="floatingTextarea">Re-password</label>
            </div>

            <button type="submit" class="btn btn-secondary btn-lg">Register User</button>

        </form>


    </div>

    <script>
        const Student_id = document.getElementById('Student_id');
        const teacher_email = document.getElementById('tmail');

        function handleRadioClick() {
            if (document.getElementById('Student').checked) {
                Student_id.style.display = 'block';
                teacher_email.style.display = 'none';
                document.getElementById('did').setAttribute('required', '');
                document.getElementById('eid').removeAttribute('required');

            } else {
                teacher_email.style.display = 'block';
                Student_id.style.display = 'none';
                document.getElementById('eid').setAttribute('required', '');
                document.getElementById('did').removeAttribute('required');
            }
        }

        const inp = document.getElementById('did');
        inp.addEventListener("input", myFunction);

        function myFunction() {
            if (inp.value === 'None')
                inp.value = 0;
            var ss = inp.value;
            var ll = ss.length;
            if ((ss[ll - 1] < '0' || ss[ll - 1] > '9')) {
                alert('Please Insert a valid id');
                for (let i = 0; i < ll; i++) {
                    if (ss[i] > '9' || ss[i] < '0') {
                        var x = i;
                        if (i === 0)
                            x = 0;
                        ss = ss.slice(0, x);
                        break;
                    }
                }
            }
            inp.value = ss;
        }


        const radioButtons = document.querySelectorAll('input[type="radio"]');

        radioButtons.forEach(radio => {
            radio.addEventListener('click', handleRadioClick);
        });

    </script>

    </body>

{% endblock %}
